# ============================================================================
# TEST NEGATIVE INDICES - Relative Indexing Test
# ============================================================================
#
# PURPOSE:
#   Tests the SceneManager's handling of negative indices in face definitions.
#   OBJ format supports relative indexing where negative values reference
#   elements from the END of the current list.
#
# NEGATIVE INDEX SEMANTICS:
#   -1 = last element added
#   -2 = second to last element
#   -3 = third to last element
#   ...
#
#   Example with 5 vertices (indices 1-5):
#     Positive: 1, 2, 3, 4, 5
#     Negative: -5, -4, -3, -2, -1
#
#   Both f 3 4 5 and f -3 -2 -1 reference the same vertices.
#
# WHY NEGATIVE INDICES?
#   1. Streaming: Allows writing OBJ data without knowing total vertex count
#   2. Copy/paste: Geometry can be duplicated without re-indexing
#   3. Incremental: Add vertices and reference them immediately
#   4. Relative: "Use the last 3 vertices I just defined"
#
# TEST CASES:
#
#   1. POSITIVE INDICES (baseline)
#      Vertices 1-3, Normal 1
#      Face: f 1 2 3
#      Expected: Triangle using first 3 vertices
#
#   2. NEGATIVE VERTEX AND NORMAL INDICES
#      Vertices 4-6, Normal 2
#      Face: f -3//-1 -2//-1 -1//-1
#      Interpretation:
#        -3 = vertex 4 (6 - 3 + 1)
#        -2 = vertex 5 (6 - 2 + 1)
#        -1 = vertex 6 (6 - 1 + 1)
#        -1 (normal) = normal 2
#
#   3. NEGATIVE VERTEX-ONLY INDICES
#      Vertices 7-9
#      Face: f -3 -2 -1
#      Uses last 3 vertices without explicit normals
#
# FACE FORMAT VARIATIONS TESTED:
#   f v v v           - vertex only
#   f v//vn v//vn ... - vertex and normal (no texture)
#
# EXPECTED RESULTS:
#   - Triangle count: 3
#   - All triangles properly constructed from referenced vertices
#   - Normals correctly resolved from negative indices
#
# ============================================================================

mtllib ./quadric_materials.mtl

# First triangle
v 0.0 0.0 0.0
v 1.0 0.0 0.0
v 0.5 1.0 0.0

vn 0.0 0.0 1.0

usemtl diffuse_red

# Using positive indices
f 1 2 3

# Second triangle (using negative indices)
v 2.0 0.0 0.0
v 3.0 0.0 0.0
v 2.5 1.0 0.0

vn 0.0 0.0 1.0

# Using negative indices: -3 -2 -1 refers to last 3 vertices
f -3//-1 -2//-1 -1//-1

# Third triangle (mixed positive and negative)
v 4.0 0.0 0.0
v 5.0 0.0 0.0
v 4.5 1.0 0.0

# Using negative index for just vertex
f -3 -2 -1

