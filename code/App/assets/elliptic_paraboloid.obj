# ============================================================================
# ELLIPTIC PARABOLOID - Quadric Surface Test
# ============================================================================
#
# DESCRIPTION:
#   The elliptic paraboloid is a bowl-shaped surface that opens upward (or
#   downward). It is commonly seen in satellite dishes, reflector telescopes,
#   and architectural domes.
#
# QUADRIC CLASSIFICATION:
#   Type: Paraboloid (non-central quadric)
#   Topology: Open, unbounded surface (extends to infinity)
#   Gaussian Curvature: Positive everywhere (K > 0)
#   Mean Curvature: Varies with position
#
# MATHEMATICAL DEFINITION:
#   Implicit form:    z = (x/a)² + (y/b)² = x²/a² + y²/b²
#   Rearranged:       x²/a² + y²/b² - z = 0
#   Parametric form:  x = a·u
#                     y = b·v
#                     z = u² + v²
#   Where: u, v ∈ (-∞, ∞)
#
# QUADRIC COEFFICIENTS (For z = x² + y²):
#   Rearranged: x² + y² - z = 0
#   A = B = 1
#   C = 0 (no z² term - parabolic not elliptic in z)
#   D = E = F = G = H = 0
#   I = -1 (linear z term)
#   J = 0
#   Matrix form: diag(1, 1, 0, 0) with I=-1
#
# GEOMETRY:
#   - Vertex (minimum point): Origin (0, 0, 0)
#   - Opening direction: +Z axis
#   - Cross-sections parallel to XY plane: Circles (ellipses if a≠b)
#   - Cross-sections through Z axis: Parabolas
#   - Focus: At (0, 0, 1/(4a²)) for z = x²/a²
#
# OPTICAL PROPERTIES:
#   - Parallel rays along axis reflect through focus
#   - Used in reflecting telescopes and satellite dishes
#   - Parabolic shape provides perfect focusing for parallel light
#
# NORMAL CALCULATION:
#   Gradient of F(x,y,z) = x² + y² - z gives normal direction:
#   ∇F = (2x, 2y, -1)
#   N = normalize(2x, 2y, -1)
#
# MESH STRUCTURE:
#   - 9×9 grid of vertices from -1.5 to 1.5
#   - 8×8 = 64 quads = 128 triangles
#   - Z values range from 0 (center) to 4.5 (corners)
#
# CURVATURE ANALYSIS:
#   At origin: Maximum curvature (k = 2)
#   Away from origin: Curvature decreases as 1/√(1 + 4(x² + y²))^(3/2)
#
# OBJ FEATURES TESTED:
#   - Regular grid topology
#   - Large triangle count
#   - Automatic normal generation
#
# ============================================================================

mtllib ./quadric_materials.mtl

# Grid of vertices for paraboloid z = x² + y²
# Using 9x9 grid from -1.5 to 1.5

# Row 0 (y = -1.5)
v -1.500000 -1.500000  4.500000
v -1.125000 -1.500000  3.515625
v -0.750000 -1.500000  2.812500
v -0.375000 -1.500000  2.390625
v  0.000000 -1.500000  2.250000
v  0.375000 -1.500000  2.390625
v  0.750000 -1.500000  2.812500
v  1.125000 -1.500000  3.515625
v  1.500000 -1.500000  4.500000

# Row 1 (y = -1.125)
v -1.500000 -1.125000  3.515625
v -1.125000 -1.125000  2.531250
v -0.750000 -1.125000  1.828125
v -0.375000 -1.125000  1.406250
v  0.000000 -1.125000  1.265625
v  0.375000 -1.125000  1.406250
v  0.750000 -1.125000  1.828125
v  1.125000 -1.125000  2.531250
v  1.500000 -1.125000  3.515625

# Row 2 (y = -0.75)
v -1.500000 -0.750000  2.812500
v -1.125000 -0.750000  1.828125
v -0.750000 -0.750000  1.125000
v -0.375000 -0.750000  0.703125
v  0.000000 -0.750000  0.562500
v  0.375000 -0.750000  0.703125
v  0.750000 -0.750000  1.125000
v  1.125000 -0.750000  1.828125
v  1.500000 -0.750000  2.812500

# Row 3 (y = -0.375)
v -1.500000 -0.375000  2.390625
v -1.125000 -0.375000  1.406250
v -0.750000 -0.375000  0.703125
v -0.375000 -0.375000  0.281250
v  0.000000 -0.375000  0.140625
v  0.375000 -0.375000  0.281250
v  0.750000 -0.375000  0.703125
v  1.125000 -0.375000  1.406250
v  1.500000 -0.375000  2.390625

# Row 4 (y = 0)
v -1.500000  0.000000  2.250000
v -1.125000  0.000000  1.265625
v -0.750000  0.000000  0.562500
v -0.375000  0.000000  0.140625
v  0.000000  0.000000  0.000000
v  0.375000  0.000000  0.140625
v  0.750000  0.000000  0.562500
v  1.125000  0.000000  1.265625
v  1.500000  0.000000  2.250000

# Row 5 (y = 0.375)
v -1.500000  0.375000  2.390625
v -1.125000  0.375000  1.406250
v -0.750000  0.375000  0.703125
v -0.375000  0.375000  0.281250
v  0.000000  0.375000  0.140625
v  0.375000  0.375000  0.281250
v  0.750000  0.375000  0.703125
v  1.125000  0.375000  1.406250
v  1.500000  0.375000  2.390625

# Row 6 (y = 0.75)
v -1.500000  0.750000  2.812500
v -1.125000  0.750000  1.828125
v -0.750000  0.750000  1.125000
v -0.375000  0.750000  0.703125
v  0.000000  0.750000  0.562500
v  0.375000  0.750000  0.703125
v  0.750000  0.750000  1.125000
v  1.125000  0.750000  1.828125
v  1.500000  0.750000  2.812500

# Row 7 (y = 1.125)
v -1.500000  1.125000  3.515625
v -1.125000  1.125000  2.531250
v -0.750000  1.125000  1.828125
v -0.375000  1.125000  1.406250
v  0.000000  1.125000  1.265625
v  0.375000  1.125000  1.406250
v  0.750000  1.125000  1.828125
v  1.125000  1.125000  2.531250
v  1.500000  1.125000  3.515625

# Row 8 (y = 1.5)
v -1.500000  1.500000  4.500000
v -1.125000  1.500000  3.515625
v -0.750000  1.500000  2.812500
v -0.375000  1.500000  2.390625
v  0.000000  1.500000  2.250000
v  0.375000  1.500000  2.390625
v  0.750000  1.500000  2.812500
v  1.125000  1.500000  3.515625
v  1.500000  1.500000  4.500000

usemtl smooth_surface

# Generate triangles (8x8 quads = 128 triangles)
# Row 0-1
f 1 10 11
f 1 11 2
f 2 11 12
f 2 12 3
f 3 12 13
f 3 13 4
f 4 13 14
f 4 14 5
f 5 14 15
f 5 15 6
f 6 15 16
f 6 16 7
f 7 16 17
f 7 17 8
f 8 17 18
f 8 18 9

# Row 1-2
f 10 19 20
f 10 20 11
f 11 20 21
f 11 21 12
f 12 21 22
f 12 22 13
f 13 22 23
f 13 23 14
f 14 23 24
f 14 24 15
f 15 24 25
f 15 25 16
f 16 25 26
f 16 26 17
f 17 26 27
f 17 27 18

# Row 2-3
f 19 28 29
f 19 29 20
f 20 29 30
f 20 30 21
f 21 30 31
f 21 31 22
f 22 31 32
f 22 32 23
f 23 32 33
f 23 33 24
f 24 33 34
f 24 34 25
f 25 34 35
f 25 35 26
f 26 35 36
f 26 36 27

# Row 3-4
f 28 37 38
f 28 38 29
f 29 38 39
f 29 39 30
f 30 39 40
f 30 40 31
f 31 40 41
f 31 41 32
f 32 41 42
f 32 42 33
f 33 42 43
f 33 43 34
f 34 43 44
f 34 44 35
f 35 44 45
f 35 45 36

# Row 4-5
f 37 46 47
f 37 47 38
f 38 47 48
f 38 48 39
f 39 48 49
f 39 49 40
f 40 49 50
f 40 50 41
f 41 50 51
f 41 51 42
f 42 51 52
f 42 52 43
f 43 52 53
f 43 53 44
f 44 53 54
f 44 54 45

# Row 5-6
f 46 55 56
f 46 56 47
f 47 56 57
f 47 57 48
f 48 57 58
f 48 58 49
f 49 58 59
f 49 59 50
f 50 59 60
f 50 60 51
f 51 60 61
f 51 61 52
f 52 61 62
f 52 62 53
f 53 62 63
f 53 63 54

# Row 6-7
f 55 64 65
f 55 65 56
f 56 65 66
f 56 66 57
f 57 66 67
f 57 67 58
f 58 67 68
f 58 68 59
f 59 68 69
f 59 69 60
f 60 69 70
f 60 70 61
f 61 70 71
f 61 71 62
f 62 71 72
f 62 72 63

# Row 7-8
f 64 73 74
f 64 74 65
f 65 74 75
f 65 75 66
f 66 75 76
f 66 76 67
f 67 76 77
f 67 77 68
f 68 77 78
f 68 78 69
f 69 78 79
f 69 79 70
f 70 79 80
f 70 80 71
f 71 80 81
f 71 81 72

