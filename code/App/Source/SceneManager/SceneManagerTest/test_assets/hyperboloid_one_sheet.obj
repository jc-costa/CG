# ============================================================================
# HYPERBOLOID OF ONE SHEET - Quadric Surface Test
# ============================================================================
#
# DESCRIPTION:
#   The hyperboloid of one sheet is a single connected surface that resembles
#   a cooling tower or an hourglass. It is notable for being a doubly-ruled
#   surface, meaning it can be constructed entirely from straight lines.
#
# QUADRIC CLASSIFICATION:
#   Type: Hyperboloid of One Sheet (central quadric)
#   Topology: Single connected surface, unbounded
#   Gaussian Curvature: Negative (K < 0) everywhere
#   Note: DOUBLY-RULED surface - two families of straight lines lie on it
#
# MATHEMATICAL DEFINITION:
#   Implicit form:    (x/a)² + (y/b)² - (z/c)² = 1
#   Standard form:    x²/a² + y²/b² - z²/c² = 1
#   Parametric form:  x = a·cosh(v)·cos(u)
#                     y = b·cosh(v)·sin(u)
#                     z = c·sinh(v)
#   Where: u ∈ [0, 2π], v ∈ (-∞, ∞)
#
#   RULED SURFACE PARAMETERIZATION:
#   r(u,v) = (a·cos(u) + v·a·sin(u), b·sin(u) - v·b·cos(u), c·v)
#
# QUADRIC COEFFICIENTS (For x² + y² - z² = 1):
#   A = B = 1
#   C = -1 (negative coefficient for z² creates hyperboloid)
#   D = E = F = G = H = I = 0
#   J = -1
#   Matrix form: diag(1, 1, -1, -1)
#
# GEOMETRY:
#   - Center: Origin (0, 0, 0)
#   - Waist (minimum radius): At z=0, radius = 1
#   - Axis of symmetry: Z-axis
#   - Cross-sections parallel to XY: Circles with radius √(1 + z²)
#   - Cross-sections through Z-axis: Hyperbolas
#
# RADIUS AT HEIGHT z:
#   r(z) = √(a² + z²·a²/c²) = √(1 + z²) for unit parameters
#   At z=0: r=1 (waist)
#   At z=±1: r=√2 ≈ 1.414
#   At z=±2: r=√5 ≈ 2.236
#
# ARCHITECTURAL APPLICATIONS:
#   - Cooling towers (efficient for structural loads)
#   - Observation towers and monuments
#   - Can be built with straight beams (ruled surface property)
#   - Examples: Canton Tower, Kobe Port Tower
#
# NORMAL CALCULATION:
#   Gradient of F(x,y,z) = x² + y² - z² - 1:
#   ∇F = (2x, 2y, -2z)
#   N = normalize(x, y, -z)
#
# MESH STRUCTURE:
#   - 12 segments around circumference
#   - 9 height levels from z=-2 to z=2
#   - 8 bands × 12 segments × 2 triangles = 192 triangles
#
# OBJ FEATURES TESTED:
#   - Rotational symmetry
#   - Varying radius with height
#   - Negative Gaussian curvature
#   - Large vertex count
#
# ============================================================================

mtllib ./quadric_materials.mtl

# Generate vertices for hyperboloid: x² + y² - z² = 1
# At each z level, radius r = sqrt(1 + z²)
# Using 12 segments around, 9 levels from z = -2 to z = 2

# z = -2.0, r = sqrt(5) ≈ 2.236
v  2.236068  0.000000 -2.000000
v  1.936492  1.118034 -2.000000
v  1.118034  1.936492 -2.000000
v  0.000000  2.236068 -2.000000
v -1.118034  1.936492 -2.000000
v -1.936492  1.118034 -2.000000
v -2.236068  0.000000 -2.000000
v -1.936492 -1.118034 -2.000000
v -1.118034 -1.936492 -2.000000
v  0.000000 -2.236068 -2.000000
v  1.118034 -1.936492 -2.000000
v  1.936492 -1.118034 -2.000000

# z = -1.5, r = sqrt(3.25) ≈ 1.803
v  1.802776  0.000000 -1.500000
v  1.561250  0.901388 -1.500000
v  0.901388  1.561250 -1.500000
v  0.000000  1.802776 -1.500000
v -0.901388  1.561250 -1.500000
v -1.561250  0.901388 -1.500000
v -1.802776  0.000000 -1.500000
v -1.561250 -0.901388 -1.500000
v -0.901388 -1.561250 -1.500000
v  0.000000 -1.802776 -1.500000
v  0.901388 -1.561250 -1.500000
v  1.561250 -0.901388 -1.500000

# z = -1.0, r = sqrt(2) ≈ 1.414
v  1.414214  0.000000 -1.000000
v  1.224745  0.707107 -1.000000
v  0.707107  1.224745 -1.000000
v  0.000000  1.414214 -1.000000
v -0.707107  1.224745 -1.000000
v -1.224745  0.707107 -1.000000
v -1.414214  0.000000 -1.000000
v -1.224745 -0.707107 -1.000000
v -0.707107 -1.224745 -1.000000
v  0.000000 -1.414214 -1.000000
v  0.707107 -1.224745 -1.000000
v  1.224745 -0.707107 -1.000000

# z = -0.5, r = sqrt(1.25) ≈ 1.118
v  1.118034  0.000000 -0.500000
v  0.968246  0.559017 -0.500000
v  0.559017  0.968246 -0.500000
v  0.000000  1.118034 -0.500000
v -0.559017  0.968246 -0.500000
v -0.968246  0.559017 -0.500000
v -1.118034  0.000000 -0.500000
v -0.968246 -0.559017 -0.500000
v -0.559017 -0.968246 -0.500000
v  0.000000 -1.118034 -0.500000
v  0.559017 -0.968246 -0.500000
v  0.968246 -0.559017 -0.500000

# z = 0.0, r = 1.0 (waist)
v  1.000000  0.000000  0.000000
v  0.866025  0.500000  0.000000
v  0.500000  0.866025  0.000000
v  0.000000  1.000000  0.000000
v -0.500000  0.866025  0.000000
v -0.866025  0.500000  0.000000
v -1.000000  0.000000  0.000000
v -0.866025 -0.500000  0.000000
v -0.500000 -0.866025  0.000000
v  0.000000 -1.000000  0.000000
v  0.500000 -0.866025  0.000000
v  0.866025 -0.500000  0.000000

# z = 0.5, r = sqrt(1.25) ≈ 1.118
v  1.118034  0.000000  0.500000
v  0.968246  0.559017  0.500000
v  0.559017  0.968246  0.500000
v  0.000000  1.118034  0.500000
v -0.559017  0.968246  0.500000
v -0.968246  0.559017  0.500000
v -1.118034  0.000000  0.500000
v -0.968246 -0.559017  0.500000
v -0.559017 -0.968246  0.500000
v  0.000000 -1.118034  0.500000
v  0.559017 -0.968246  0.500000
v  0.968246 -0.559017  0.500000

# z = 1.0, r = sqrt(2) ≈ 1.414
v  1.414214  0.000000  1.000000
v  1.224745  0.707107  1.000000
v  0.707107  1.224745  1.000000
v  0.000000  1.414214  1.000000
v -0.707107  1.224745  1.000000
v -1.224745  0.707107  1.000000
v -1.414214  0.000000  1.000000
v -1.224745 -0.707107  1.000000
v -0.707107 -1.224745  1.000000
v  0.000000 -1.414214  1.000000
v  0.707107 -1.224745  1.000000
v  1.224745 -0.707107  1.000000

# z = 1.5, r = sqrt(3.25) ≈ 1.803
v  1.802776  0.000000  1.500000
v  1.561250  0.901388  1.500000
v  0.901388  1.561250  1.500000
v  0.000000  1.802776  1.500000
v -0.901388  1.561250  1.500000
v -1.561250  0.901388  1.500000
v -1.802776  0.000000  1.500000
v -1.561250 -0.901388  1.500000
v -0.901388 -1.561250  1.500000
v  0.000000 -1.802776  1.500000
v  0.901388 -1.561250  1.500000
v  1.561250 -0.901388  1.500000

# z = 2.0, r = sqrt(5) ≈ 2.236
v  2.236068  0.000000  2.000000
v  1.936492  1.118034  2.000000
v  1.118034  1.936492  2.000000
v  0.000000  2.236068  2.000000
v -1.118034  1.936492  2.000000
v -1.936492  1.118034  2.000000
v -2.236068  0.000000  2.000000
v -1.936492 -1.118034  2.000000
v -1.118034 -1.936492  2.000000
v  0.000000 -2.236068  2.000000
v  1.118034 -1.936492  2.000000
v  1.936492 -1.118034  2.000000

usemtl metallic_chrome

# Side faces connecting adjacent rings
# Ring 0-1 (z = -2 to -1.5)
f 1 13 14
f 1 14 2
f 2 14 15
f 2 15 3
f 3 15 16
f 3 16 4
f 4 16 17
f 4 17 5
f 5 17 18
f 5 18 6
f 6 18 19
f 6 19 7
f 7 19 20
f 7 20 8
f 8 20 21
f 8 21 9
f 9 21 22
f 9 22 10
f 10 22 23
f 10 23 11
f 11 23 24
f 11 24 12
f 12 24 13
f 12 13 1

# Ring 1-2 (z = -1.5 to -1.0)
f 13 25 26
f 13 26 14
f 14 26 27
f 14 27 15
f 15 27 28
f 15 28 16
f 16 28 29
f 16 29 17
f 17 29 30
f 17 30 18
f 18 30 31
f 18 31 19
f 19 31 32
f 19 32 20
f 20 32 33
f 20 33 21
f 21 33 34
f 21 34 22
f 22 34 35
f 22 35 23
f 23 35 36
f 23 36 24
f 24 36 25
f 24 25 13

# Ring 2-3 (z = -1.0 to -0.5)
f 25 37 38
f 25 38 26
f 26 38 39
f 26 39 27
f 27 39 40
f 27 40 28
f 28 40 41
f 28 41 29
f 29 41 42
f 29 42 30
f 30 42 43
f 30 43 31
f 31 43 44
f 31 44 32
f 32 44 45
f 32 45 33
f 33 45 46
f 33 46 34
f 34 46 47
f 34 47 35
f 35 47 48
f 35 48 36
f 36 48 37
f 36 37 25

# Ring 3-4 (z = -0.5 to 0)
f 37 49 50
f 37 50 38
f 38 50 51
f 38 51 39
f 39 51 52
f 39 52 40
f 40 52 53
f 40 53 41
f 41 53 54
f 41 54 42
f 42 54 55
f 42 55 43
f 43 55 56
f 43 56 44
f 44 56 57
f 44 57 45
f 45 57 58
f 45 58 46
f 46 58 59
f 46 59 47
f 47 59 60
f 47 60 48
f 48 60 49
f 48 49 37

# Ring 4-5 (z = 0 to 0.5)
f 49 61 62
f 49 62 50
f 50 62 63
f 50 63 51
f 51 63 64
f 51 64 52
f 52 64 65
f 52 65 53
f 53 65 66
f 53 66 54
f 54 66 67
f 54 67 55
f 55 67 68
f 55 68 56
f 56 68 69
f 56 69 57
f 57 69 70
f 57 70 58
f 58 70 71
f 58 71 59
f 59 71 72
f 59 72 60
f 60 72 61
f 60 61 49

# Ring 5-6 (z = 0.5 to 1.0)
f 61 73 74
f 61 74 62
f 62 74 75
f 62 75 63
f 63 75 76
f 63 76 64
f 64 76 77
f 64 77 65
f 65 77 78
f 65 78 66
f 66 78 79
f 66 79 67
f 67 79 80
f 67 80 68
f 68 80 81
f 68 81 69
f 69 81 82
f 69 82 70
f 70 82 83
f 70 83 71
f 71 83 84
f 71 84 72
f 72 84 73
f 72 73 61

# Ring 6-7 (z = 1.0 to 1.5)
f 73 85 86
f 73 86 74
f 74 86 87
f 74 87 75
f 75 87 88
f 75 88 76
f 76 88 89
f 76 89 77
f 77 89 90
f 77 90 78
f 78 90 91
f 78 91 79
f 79 91 92
f 79 92 80
f 80 92 93
f 80 93 81
f 81 93 94
f 81 94 82
f 82 94 95
f 82 95 83
f 83 95 96
f 83 96 84
f 84 96 85
f 84 85 73

# Ring 7-8 (z = 1.5 to 2.0)
f 85 97 98
f 85 98 86
f 86 98 99
f 86 99 87
f 87 99 100
f 87 100 88
f 88 100 101
f 88 101 89
f 89 101 102
f 89 102 90
f 90 102 103
f 90 103 91
f 91 103 104
f 91 104 92
f 92 104 105
f 92 105 93
f 93 105 106
f 93 106 94
f 94 106 107
f 94 107 95
f 95 107 108
f 95 108 96
f 96 108 97
f 96 97 85

