# ============================================================================
# TEST ALL MATERIAL TYPES - Comprehensive Material Test
# ============================================================================
#
# PURPOSE:
#   Tests that the SceneManager correctly parses ALL materials from the MTL
#   file and properly assigns them to geometry using 'usemtl' commands.
#
# MATERIAL TYPES TESTED:
#
#   DIFFUSE (4 materials):
#     - diffuse_white:  Kd=(0.9, 0.9, 0.9)
#     - diffuse_red:    Kd=(0.8, 0.1, 0.1)
#     - diffuse_green:  Kd=(0.1, 0.8, 0.1)
#     - diffuse_blue:   Kd=(0.1, 0.1, 0.8)
#
#   METALLIC (2 materials) - illum 3:
#     - metallic_gold:   Metallic=1.0, gold color
#     - metallic_chrome: Metallic=1.0, silver color
#
#   GLASS (2 materials) - illum 7:
#     - glass_clear:  IOR=1.5, Transmission=1.0
#     - glass_tinted: IOR=1.45, Transmission=1.0, blue tint
#
#   EMISSIVE (2 materials) - Ke property:
#     - emissive_warm: Orange/yellow emission
#     - emissive_cool: Blue/white emission
#
#   ROUGHNESS TEST (3 materials) - varying Ns:
#     - rough_surface:  Ns=50  → Roughness≈0.95
#     - smooth_surface: Ns=800 → Roughness≈0.20
#     - semi_rough:     Ns=400 → Roughness≈0.60
#
#   TRANSPARENT (2 materials) - d property:
#     - transparent_50: d=0.5 → Transmission=0.5
#     - transparent_25: d=0.25 → Transmission=0.75
#
#   Total: 15 custom materials + 1 default = 16 materials
#
# GEOMETRY LAYOUT:
#   Grid of small squares, each with a different material:
#
#   Row 1 (z=0):    white    red      green    blue
#   Row 2 (z=1.5):  gold     chrome   glass1   glass2
#   Row 3 (z=3):    emis1    emis2    rough    smooth
#   Row 4 (z=4.5):  semi     trans50  trans25
#
#   Each square is 1×1 unit, consisting of 2 triangles (1 quad).
#
# TEST ASSERTIONS:
#   - Material count ≥ 16 (15 custom + 1 default)
#   - Each material has expected property values
#   - Triangles have valid material indices (0 to count-1)
#   - Multiple different materials are in use
#
# USEMTL COMMAND:
#   The 'usemtl <name>' command sets the active material.
#   All subsequent faces use this material until changed.
#   This tests:
#   - Material name lookup in material map
#   - Material index assignment to triangles
#   - Multiple material switches within one file
#
# ============================================================================

mtllib ./quadric_materials.mtl

# Create a grid of small squares, each with a different material

# Row 1 vertices (y = 0)
v 0.0 0.0 0.0
v 1.0 0.0 0.0
v 1.0 1.0 0.0
v 0.0 1.0 0.0

v 1.5 0.0 0.0
v 2.5 0.0 0.0
v 2.5 1.0 0.0
v 1.5 1.0 0.0

v 3.0 0.0 0.0
v 4.0 0.0 0.0
v 4.0 1.0 0.0
v 3.0 1.0 0.0

v 4.5 0.0 0.0
v 5.5 0.0 0.0
v 5.5 1.0 0.0
v 4.5 1.0 0.0

# Row 2 vertices (y = 1.5)
v 0.0 0.0 1.5
v 1.0 0.0 1.5
v 1.0 1.0 1.5
v 0.0 1.0 1.5

v 1.5 0.0 1.5
v 2.5 0.0 1.5
v 2.5 1.0 1.5
v 1.5 1.0 1.5

v 3.0 0.0 1.5
v 4.0 0.0 1.5
v 4.0 1.0 1.5
v 3.0 1.0 1.5

v 4.5 0.0 1.5
v 5.5 0.0 1.5
v 5.5 1.0 1.5
v 4.5 1.0 1.5

# Row 3 vertices (y = 3.0)
v 0.0 0.0 3.0
v 1.0 0.0 3.0
v 1.0 1.0 3.0
v 0.0 1.0 3.0

v 1.5 0.0 3.0
v 2.5 0.0 3.0
v 2.5 1.0 3.0
v 1.5 1.0 3.0

v 3.0 0.0 3.0
v 4.0 0.0 3.0
v 4.0 1.0 3.0
v 3.0 1.0 3.0

v 4.5 0.0 3.0
v 5.5 0.0 3.0
v 5.5 1.0 3.0
v 4.5 1.0 3.0

# Row 4 vertices (y = 4.5)
v 0.0 0.0 4.5
v 1.0 0.0 4.5
v 1.0 1.0 4.5
v 0.0 1.0 4.5

v 1.5 0.0 4.5
v 2.5 0.0 4.5
v 2.5 1.0 4.5
v 1.5 1.0 4.5

# Basic diffuse materials
usemtl diffuse_white
f 1 2 3
f 1 3 4

usemtl diffuse_red
f 5 6 7
f 5 7 8

usemtl diffuse_green
f 9 10 11
f 9 11 12

usemtl diffuse_blue
f 13 14 15
f 13 15 16

# Metallic materials
usemtl metallic_gold
f 17 18 19
f 17 19 20

usemtl metallic_chrome
f 21 22 23
f 21 23 24

# Glass materials
usemtl glass_clear
f 25 26 27
f 25 27 28

usemtl glass_tinted
f 29 30 31
f 29 31 32

# Emissive materials
usemtl emissive_warm
f 33 34 35
f 33 35 36

usemtl emissive_cool
f 37 38 39
f 37 39 40

# PBR test materials
usemtl rough_surface
f 41 42 43
f 41 43 44

usemtl smooth_surface
f 45 46 47
f 45 47 48

usemtl semi_rough
f 49 50 51
f 49 51 52

# Transparent materials
usemtl transparent_50
f 53 54 55
f 53 55 56

usemtl transparent_25
f 57 58 59
f 57 59 60

